<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
    <script type="text/javascript">
        function draw(data) {

            /*
              D3.js setup code
            */

            "use strict";
            var margin = 175,
                width = 1400 - margin,
                height = 1000 - margin;


            var svg = d3.select("body")
                .append("svg")
                .attr("width", width )
                .attr("height", height)
                .append('g')
                .attr('class', 'chart');

            svg.append("text")
                .attr("x", (width / 2))
                .attr("y", 65)
                .attr("text-anchor", "middle")
                .style("font-size", "18px")
                .style("text-decoration", "underline")
                .text("'Iran' word frequency trend");

            /*
              Dimple.js Chart construction code
            */

            var myChart = new dimple.chart(svg, data);
            myChart.addTimeAxis("x", "date");
            myChart.addMeasureAxis("y", "frequency");
            myChart.addSeries(null, dimple.plot.line);
            myChart.draw();
        }
    </script>
</head>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript">
    /*
      Use D3 (not dimple.js) to load the TSV file
      and pass the contents of it to the draw function
      */
    d3.csv("iran-trend.csv", draw);
</script>
</body>
</html>
